<article>
    <a href="<?= $entity->getSlug($config->base_url) ?>.<?= $config->file_extension_content ?>" rel="permalink" title="<?= $entity->get('title') ?>">
        <h1><?= $entity->get('title') ?></h1>
    </a>
    <?php if (!is_null($entity->get('image'))) : ?>
        <?php
        $image = (string) $entity->get('image');
        $webp = preg_replace('/\\.[^.]+$/', '.webp', $image);
        ?>
        <picture>
            <source srcset="<?= $config->base_url ?>/img/<?= htmlspecialchars($webp, ENT_QUOTES, 'UTF-8') ?>" type="image/webp">
            <img src="<?= $config->base_url ?>/img/<?= htmlspecialchars($image, ENT_QUOTES, 'UTF-8') ?>" width="100%" height="200" alt="<?= $entity->get('title') ?>" title="<?= $entity->get('title') ?>" loading="lazy">
        </picture>
    <?php endif; ?>

    <?= $entity->get('content') ?>

    <footer>
        <p><time pubdate date="<?= $entity->get('created_at')->format('Y-m-d') ?>"><em><?= $entity->get('created_at')->format('Y-m-d') ?></em></time> <span class="nowrap">by <?php !is_null($entity->get('author')) ? print $entity->get('author') : print $config->author ?></span></p>
    </footer>
</article>
