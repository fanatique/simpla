# Getting Started with Simpla

This guide covers the minimal steps required to publish a website using Simpla.

For more advanced customization, see:
- [Setting Up a Customized Page](02.setting-up-a-customized-page.md) â€“ Templates, themes, and styling
- [Creating Content](03.creating-content.md) â€“ Writing posts, pages, and media management

## Prerequisites

- **Docker** installed and running
- A text editor
- Basic knowledge of Markdown

> **Note:** The engine targets PHP 8.5. The public Docker image (`fanatique/simpla:latest`) bundles everything you needâ€”no local PHP installation required.

## How Simpla Works

Simpla consists of two parts:

1. **The Page** â€“ Your website source: configuration, templates, and content
2. **The Engine** â€“ A PHP application wrapped in a Docker container that generates static HTML

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚      page/       â”‚      â”‚    Engine    â”‚      â”‚    dist/     â”‚
â”‚  (your source)   â”‚ â”€â”€â”€â–º â”‚   (Docker)   â”‚ â”€â”€â”€â–º â”‚  (output)    â”‚
â”‚                  â”‚      â”‚              â”‚      â”‚              â”‚
â”‚ â€¢ config/        â”‚      â”‚ â€¢ Parses MD  â”‚      â”‚ â€¢ HTML files â”‚
â”‚ â€¢ content/       â”‚      â”‚ â€¢ Renders    â”‚      â”‚ â€¢ CSS/JS     â”‚
â”‚ â€¢ views/         â”‚      â”‚   templates  â”‚      â”‚ â€¢ Images     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## Step 1: Set Up the Page Folder

The easiest way to get started is to use the example `page` folder from the Simpla repository.

### Option A: Clone the Repository

```shell
git clone https://github.com/fanatique/simpla.git
cd simpla
```

### Option B: Download Just the Page Folder

```shell
mkdir my-website && cd my-website
curl -L https://github.com/fanatique/simpla/archive/main.zip -o simpla.zip
unzip simpla.zip "simpla-main/page/*"
mv simpla-main/page ./page
rm -rf simpla-main simpla.zip
```

---

## Step 2: Understand the Page Structure

```
page/
â”œâ”€â”€ config/
â”‚   â””â”€â”€ config.php          # Site configuration
â”œâ”€â”€ content/
â”‚   â”œâ”€â”€ pages/              # Static pages (.md files)
â”‚   â”œâ”€â”€ posts/              # Blog posts (.md files)
â”‚   â”œâ”€â”€ snippets/           # Reusable content blocks
â”‚   â””â”€â”€ img/                # Media files (images, etc.)
â””â”€â”€ views/
    â””â”€â”€ [theme]/            # Templates for your theme
        â”œâ”€â”€ assets/         # CSS, JS, images
        â”œâ”€â”€ menus/          # Menu templates
        â”œâ”€â”€ partials/       # Reusable template parts
        â”œâ”€â”€ page.phtml      # Page layout
        â”œâ”€â”€ post.phtml      # Single post layout
        â”œâ”€â”€ index.phtml     # Post list layout
        â””â”€â”€ tag.phtml       # Tag page layout
```

---

## Step 3: Configure Your Site

Open `page/config/config.php` and adjust the basic settings:

```php
<?php
return json_decode(json_encode([
  // Theme name (must match a folder in views/)
  "theme" => "default",

  // Base URL of your website (leave empty for relative URLs)
  "base_url" => "https://example.com",

  // Site metadata
  "title" => "My Awesome Blog",
  "tagline" => "Thoughts on code and life",
  "description" => "A personal blog about...",
  "language" => "en-US",
  "author" => "Your Name",

  // URL structure
  "slugs" => [
    "post_index" => "blog",  // or "index" for blog on homepage
    "feed" => "feed",
  ],
  "tag_path" => "tags",

  // Navigation menus
  "menus" => [
    "main" => [
      ["internal" => "index", "label" => "Home"],
      ["internal" => "blog", "label" => "Blog"],
      ["internal" => "about", "label" => "About"],
    ],
    "footer" => [
      ["internal" => "imprint", "label" => "Imprint"],
      ["internal" => "privacy-policy", "label" => "Privacy"],
    ],
    "social" => [
      ["external" => "https://github.com/yourusername", "label" => "GitHub"],
      ["internal" => "feed", "label" => "RSS", "type" => "feed"],
    ],
  ],

  // ... (keep remaining settings as-is for now)
]));
```

### Key Configuration Options

| Option | Description | Example |
|--------|-------------|---------|
| `theme` | Template folder name in `views/` | `"default"` |
| `base_url` | Full URL of your site (for absolute links) | `"https://example.com"` |
| `title` | Site title (shown in header and meta tags) | `"My Blog"` |
| `tagline` | Short subtitle/slogan | `"Coding adventures"` |
| `description` | Meta description for SEO | `"A blog about..."` |
| `language` | HTML lang attribute | `"en-US"`, `"de-DE"` |
| `slugs.post_index` | Filename for blog index | `"blog"` or `"index"` |

---

## Step 4: Run the Generator

Create an output directory and run the Docker container:

```shell
# From your project root (where page/ is located)
mkdir -p dist

docker run -it --rm \
  -v "$PWD/page":/usr/src/simpla/page \
  -v "$PWD/dist":/usr/src/simpla/dist \
  fanatique/simpla:latest
```

### What Happens

The engine will:
1. Read all Markdown files from `content/`
2. Parse frontmatter and convert Markdown to HTML
3. Render templates with your content
4. Copy assets (CSS, JS, images)
5. Write everything to `dist/`

---

## Step 5: Preview Your Site

Start a local server to preview the generated site:

```shell
cd dist
php -S localhost:8080
```

Open http://localhost:8080 in your browser.

> **Tip:** You can also use Python: `python -m http.server 8080`

---

## Step 6: Add Your Own Content

### Create a Blog Post

Create a new file at `page/content/posts/my-first-post.md`:

```markdown
---
title: 'My First Blog Post'
status: 'published'
created_at: '2025-01-02'
tags: hello, first-post
---

# Hello World!

This is my first blog post using Simpla.

Here's some **bold** and *italic* text.
```

### Create a Page

Create a new file at `page/content/pages/about.md`:

```markdown
---
title: 'About Me'
status: 'published'
created_at: '2025-01-02'
---

# About

Welcome to my website! I'm passionate about...
```

Re-run the generator to see your changes:

```shell
docker run -it --rm \
  -v "$PWD/page":/usr/src/simpla/page \
  -v "$PWD/dist":/usr/src/simpla/dist \
  fanatique/simpla:latest
```

---

## Next Steps

ğŸ¨ **Customize the Look** â†’ [Setting Up a Customized Page](02.setting-up-a-customized-page.md)

âœï¸ **Master Content Creation** â†’ [Creating Content](03.creating-content.md)

ğŸš€ **Automate Deployment** â†’ [GitHub Actions Deployment](04.github-actions-deployment.md)

---

## Troubleshooting

### "Permission denied" when running Docker

Make sure Docker has permission to access your directories:

```shell
# On Linux, you might need to set ownership
sudo chown -R $USER:$USER dist/
```

### Changes not appearing

1. Make sure you re-ran the Docker command
2. Clear your browser cache (Ctrl+Shift+R)
3. Check that the Markdown file has `status: 'published'`

### Docker image not found

Pull the latest image:

```shell
docker pull fanatique/simpla:latest
```
